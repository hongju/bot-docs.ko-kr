---
title: Bot Framework의 ID 가이드 | Microsoft Docs
description: 이 가이드는 Bot Framework v3 프로토콜에 있는 ID 필드의 특징을 설명합니다.
keywords: id, 봇, 프로토콜
author: RobStand
ms.author: kamrani
manager: kamrani
ms.topic: article
ms.service: bot-service
ms.subservice: sdk
ms.date: 04/30/2019
ms.openlocfilehash: 28932ca45c6faaad2f17ecc03f026ba04352a5a1
ms.sourcegitcommit: f84b56beecd41debe6baf056e98332f20b646bda
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/03/2019
ms.locfileid: "65033075"
---
# <a name="id-fields-in-the-bot-framework"></a>Bot Framework의 ID 필드

이 가이드는 Bot Framework에 있는 ID 필드의 특징을 설명합니다.

## <a name="channel-id"></a>채널 ID

모든 Bot Framework 채널은 고유 ID로 식별됩니다.

예제: `"channelId": "skype"`

채널 ID는 다른 ID의 네임스페이스 역할을 합니다. Bot Framework 프로토콜에서의 런타임 호출은 채널 컨텍스트 안에서 발생해야 합니다. 채널은 통신 중에 사용되는 계정 ID와 대화에 의미를 부여합니다.

규칙에 따라 모든 채널 ID는 소문자입니다. 채널은 내보내는 채널 ID에서 대소문자 지정이 일관되게 보장하므로 봇이 순서 비교를 통해 동등성을 설정할 수 있습니다.

### <a name="rules-for-channel-ids"></a>채널 ID 규칙

- 채널 ID는 대/소문자를 구분합니다.

## <a name="bot-handle"></a>봇 핸들

Azure Bot Service에 등록된 모든 봇에는 봇 핸들이 있습니다.

예제: `FooBot`

봇 핸들은 온라인 Azure Bot Service에 대한 봇 등록을 나타냅니다. 이 등록은 HTTP 웹후크 엔드포인트 및 채널 등록과 연결됩니다.

Azure Bot Service는 봇 핸들의 고유성을 보장합니다. Azure Portal은 대소문자를 구분하지 않는 고유성 검사를 수행합니다(봇 핸들의 대소문자 차이가 단일 핸들로 간주됨). 이는 개발자 Azure Portal의 특성이며 봇 핸들 자체에 대한 것이 아닙니다.

### <a name="rules-for-bot-handles"></a>봇 핸들 규칙

* 봇 핸들은 Bot Framework 안에서 고유합니다(대소문자 구분 안 함).

## <a name="app-id"></a>앱 ID

Azure Bot Service에 등록된 모든 봇에는 앱 ID가 있습니다.

> [!NOTE]
> 이전에는 앱을 보통 "MSA Apps" 또는 "MSA/AAD Apps"로 지칭했습니다.  이제는 일반적으로 앱을 간단히 "앱"이라 지칭하는 경우가 많지만 일부 프로토콜 요소에서는 앱을 "MSA Apps"로 영구 참조할 수 있습니다.

예제: `"msaAppId": "353826a6-4557-45f8-8d88-6aa0526b8f77"`

앱은 ID 팀의 앱 포털에 대한 등록을 나타내며 Bot Framework 런타임 프로토콜 안에서 서비스 간 ID 메커니즘 역할을 합니다. 앱에는 웹 사이트, 모바일/데스크톱 애플리케이션 같은 다른 비 봇 연결이 있을 수 있습니다.

등록된 모든 봇에는 정확히 하나의 앱이 있습니다. 봇 소유자가 봇에 연결된 앱을 독립적으로 변경할 수는 없지만 Bot Framework 팀은 소수의 예외 상황에서 변경할 수 있습니다.

봇 및 채널은 앱 ID를 사용하여 등록된 봇을 고유하게 식별할 수 있습니다.

앱 ID는 반드시 GUID가 됩니다. 앱 ID는 대소문자 구분 없이 비교되어야 합니다.

### <a name="rules-for-app-ids"></a>앱 ID 규칙

* 앱 ID는 Microsoft App 플랫폼 안에서 고유합니다(GUID 비교).
* 모든 봇에는 정확히 하나의 해당하는 앱이 있습니다.
* 봇이 연결된 앱을 변경하려면 Bot Framework 팀의 지원이 필요합니다.

## <a name="channel-account"></a>채널 계정

모든 봇과 사용자는 각 채널 내 계정이 있습니다. 계정은 식별자(`id`)와, 선택적 이름 같은 기타 정보성 봇 비 구조적 데이터를 포함합니다.

예제: `"from": { "id": "john.doe@contoso.com", "name": "John Doe" }`

이 계정은 메시지를 송수신할 수 있는 채널 내 주소를 설명합니다. 경우에 따라 이러한 등록은 단일 서비스(예: Skype, Facebook 등) 안에 존재합니다. 다른 경우 여러 시스템(이메일 주소, 전화 번호)에 등록됩니다. 다른 익명 채널(예: Web Chat)에서는 등록이 사용 후 삭제될 수 있습니다.

채널 계정은 채널 내에서 중첩됩니다. 예를 들어 Facebook 계정이 간단한 숫자입니다. 이 숫자는 다른 채널에서 다른 의미를 가질 수 있고 모든 채널 외부에서는 의미가 없습니다.

채널 계정과 사용자(실제 사람)의 관계는 각 채널과 연결된 규칙에 따라 달라집니다. 예를 들어, 일반적으로 SMS 번호는 일정 기간 동안은 한 사람을 지칭하지만 나중에 이 번호가 다른 사람에게 이전될 수 있습니다. 반대로 Facebook 계정은 두 사람이 Facebook 계정을 공유하는 경우에는 일반적이지 않지만 보통은 영구적으로 한 사람을 의미합니다.

대부분의 채널에서 채널 계정을 메시지를 배달할 수 있는 메일함의 한 종류로 생각하는 것이 적합합니다. 일반적으로 대부분의 채널에서는 여러 주소를 단일 메일함에 매핑할 수 있습니다. 즉 "jdoe@contoso.com" 및 "john.doe@service.contoso.com"이 같은 받은 편지함에서 확인될 수 있습니다. 일부 채널에서는 한 단계 더 나아가 액세스하는 봇에 따라 계정의 주소를 변경합니다. 예를 들어 Skype와 Facebook은 모두 사용자 ID를 변경하므로 모든 봇이 메시지 송수신에 다른 주소를 갖게 됩니다.

일부 경우 주소 간 동일성을 지정할 수 있으나 메일함 간 동일성 및 사람 간 동일성을 지정하려면 채널 내 규칙을 알아야 하는데 대부분의 경우는 이것이 불가능합니다.

봇에게 전송된 활동의 `recipient` 필드를 통해 채널 계정 주소를 봇에게 알립니다.

### <a name="rules-for-channel-accounts"></a>채널 계정 규칙

* 채널 계정은 연결된 채널 안에서만 의미가 있습니다.
* 여러 ID를 동일한 계정에 확인할 수 있습니다.
* 순서 비교를 두 ID가 동일한지 확인하는 데 사용할 수 있습니다.
* 일반적으로 두 개의 다른 ID가 동일한 계정, 봇 또는 사람에 확인되는지 여부를 파악하는 데 사용할 수 있는 비교는 없습니다.
* ID, 계정, 메일함, 사람 간의 연결 안정성은 채널에 따라 달라집니다.

## <a name="conversation-id"></a>대화 ID

메시지는 ID로 식별 가능한 대화의 컨텍스트에서 송수신됩니다.

예제: `"conversation": { "id": "1234" }`

대화에는 메시지 교환과 다른 활동이 포함됩니다. 모든 대화에는 0개 이상의 활동이 있으며 모든 활동은 정확히 하나의 대화에 표시됩니다. 대화는 영구적이거나, 시작과 끝이 다를 수 있습니다. 대화 만들기, 수정 또는 종료 프로세스는 채널 안에서 발생하며(즉 채널이 대화를 인식할 때 대화가 존재함) 이러한 프로세스의 특징은 채널에서 설정됩니다.

대화 안에서 활동은 사용자와 봇이 보냅니다. 대화에 "참여"하는 사용자에 대한 정의는 채널마다 다르며 이론적으로는 현재 사용자, 메시지를 받은 적 있는 사용자, 메시지를 보낸 사용자가 포함될 수 있습니다.

일부 채널(예: SMS, Skype 및 기타)에는 1:1 대화에 할당된 대화 ID가 원격 채널 계정 ID가 되는 특이점이 있습니다. 이 특이점에는 두 가지 부작용이 있습니다.
1. 대화 ID가 이를 보는 사용자에 따라 주관적이 됩니다. 참가자 A와 B가 대화 중이라면 참가자 A는 대화 ID가 “B”, 참가자 B는 대화 ID가 “A”인 것을 보게 됩니다.
2. 봇이 이 채널 안에 여러 채널 계정을 갖는 경우(예: 봇에 SMS 번호가 두 개임) 대화 ID만으로는 봇의 관점에서 대화를 고유하게 식별하는 데 부족합니다.

따라서 대화 ID가 단일 봇에 대해서도 채널 내 단일 대화를 반드시 고유하게 식별한다고 할 수 없습니다.

### <a name="rules-for-conversation-ids"></a>대화 ID 규칙

* 대화는 연결된 채널 안에서만 의미가 있습니다.
* 여러 ID를 동일한 대화에 확인할 수 있습니다.
* 순서 동등성이 두 대화 ID를 반드시 같은 대화로 설정하는 것은 아니지만 대부분의 경우는 그렇습니다.

## <a name="activity-id"></a>활동 ID

활동은 Bot Framework 프로토콜 안에서 송수신되며 식별 가능한 경우도 있습니다.

예제: `"id": "5678"`

활동 ID는 선택 사항이며 가능한 경우 채널에서 봇에게 이후의 API 호출에서 ID를 참조하는 방법을 제공하기 위해 사용합니다.
* 특정 활동에 응답
* 활동 수준에서 참가자 목록 쿼리

더 이상 사용 사례가 마련되지 않았으므로 활동 ID 처리에 관한 다른 규칙은 없습니다.
