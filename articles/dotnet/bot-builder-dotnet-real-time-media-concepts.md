---
title: Skype를 사용한 실시간 미디어 호출 | Microsoft Docs
description: .NET용 Bot Framework SDK를 사용하여 Skype에서 실시간 음성 및 영상 통화를 수행할 수 있는 봇을 빌드할 때 필요한 핵심 개념을 이해합니다.
author: ssulzer
ms.author: ssulzer
manager: kamrani
ms.topic: article
ms.service: bot-service
ms.subservice: sdk
ms.date: 12/13/2017
monikerRange: azure-bot-service-3.0
ms.openlocfilehash: 893458a484c0e26545c23016ccbf3049adc61960
ms.sourcegitcommit: b15cf37afc4f57d13ca6636d4227433809562f8b
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 01/11/2019
ms.locfileid: "54225258"
---
# <a name="real-time-media-calling-with-skype"></a>Skype를 사용한 실시간 미디어 호출

[!INCLUDE [pre-release-label](../includes/pre-release-label-v3.md)]

봇용 실시간 미디어 플랫폼은 실시간 음성, 영상 및 화면 공유 형식을 사용하도록 설정하여 봇이 사용자와 상호 작용하는 방식을 한 차원 발전시킵니다. 이를 통해 뛰어난 대화형 엔터테인먼트, 교육 및 지원 봇을 빌드하는 능력이 구현됩니다. 사용자는 Skype를 사용하여 실시간 미디어 봇과 소통합니다.

이 플랫폼은 봇이 *프레임 단위*로 음성 및 비디오를 주고 받을 수 있게 하는 고급 기능입니다. 봇은 음성, 비디오, 화면 공유 실시간 형식에 대한 "원시" 액세스를 갖습니다. 예를 들어, 사용자가 말을 하면 봇은 초당 50개의 오디오 프레임을 수신하며, 각 프레임은 20ms(밀리초)의 오디오를 포함합니다. 봇은 사용자가 말을 멈춘 후에 녹음하기 위해 기다리지 않고, 오디오 프레임이 수신될 때 실시간 음성 인식을 수행할 수 있습니다. 또한 봇은 오디오와 함께 초당 30개 프레임의 속도로 사용자에게 고화질 해상도의 비디오를 전송할 수 있습니다.

봇용 실시간 미디어 플랫폼은 Skype 호출 클라우드와 함께 작동하여 호출 설정 및 미디어 세션 설정을 관리하고, 봇이 Skype 호출자와의 음성 및 (경우에 따라) 영상 대화에 참여하도록 합니다. 이 플랫폼은 봇이 미디어를 보내고 받을 수 있는 간단한 "소켓"형 API를 제공하고, 오디오용 SILK 및 비디오용 H.264 같은 코덱을 사용하여 미디어의 실시간 인코딩 및 디코딩을 처리합니다. 또한 실시간 미디어 봇은 여러 참가자가 있는 Skype 그룹 영상 통화에도 참여할 수 있습니다.

이 문서에서는 Skype를 사용한 실시간 음성 및 영상 통화를 수행할 수 있는 봇의 빌드와 관련된 핵심 개념을 소개하고, 관련 개발자 리소스에 대한 링크를 제공합니다.

## <a name="media-session"></a>미디어 세션
실시간 미디어 봇은 들어오는 Skype 호출에 응답할 때, 음성 및 영상 형식을 둘 다 지원할지 또는 음성만 지원할지를 결정합니다. 지원되는 각 형식에 대해, 봇은 미디어를 보내고 받거나, 받기만 하거나, 보내기만 할 수 있습니다. 예를 들어, 봇은 오디오를 보내고 받기 원하거나, 보내기만 할 수 있습니다(Skype 호출자의 영상을 받지 않으려는 경우). Skype 호출자와 봇 간에 설정된 음성 및 영상 형식 집합을 **미디어 세션**이라고 합니다.

지원되는 영상 형식에는 "기본 영상"과 "화면 공유"의 두 가지가 있습니다. 기본 영상은 봇이 생성하거나 재생하는 영향을 호출자에게 전송하고, 호출자의 영상(일반적으로 사용자의 웹캠에서 제공)을 봇에게 전송합니다. 화면 공유 형식을 사용하면 호출자가 자신의 화면(영상 형태)을 봇과 공유할 수 있습니다. 봇은 사용자에게 화면 공유 영상을 전송할 수 없습니다.

단체 Skype **그룹 영상 통화**에 참여할 때, 실시간 미디어 봇은 여러 기본 영상 스트림의 동시 수신을 지원할 수 있습니다. 따라서 봇은 그룹 영상 통화에서 두 명 이상의 참가자를 "볼 수 있습니다".

## <a name="frames-and-frame-rate"></a>프레임 및 프레임 속도
실시간 미디어 봇은 Skype 호출의 음성 및 영상 형식과 직접 상호 작용합니다. 이것은 봇이 미디어를 **프레임** 시퀀스로 보내거나 받는다는 것을 의미합니다. 여기서 각 프레임은 콘텐츠 단위를 나타냅니다. 1초 오디오가 50개 프레임 시퀀스로 전송될 수 있으며, 각 프레임은 20MS(밀리초)(1초의 1/50)의 콘텐츠를 포함합니다. 1초 분량의 영상은 30개의 스틸 이미지 시퀀스로 조각화될 수 있으며, 각 영상 프레임을 약 33ms(1초의 1/30) 동안 표시한 후 다음 영상 프레임으로 넘어갑니다. 초당 전송 또는 렌더링되는 프레임 수를 **프레임 속도**라고 합니다. "30fps"는 초당 30개 프레임을 나타냅니다.

## <a name="audio-format"></a>오디오 형식
1초의 오디오를 16,000개의 **샘플**로 나타내며, 각 샘플은 16비트 데이터를 저장합니다. 20ms의 오디오 프레임은 320개 샘플(640바이트의 데이터)을 포함합니다.

## <a name="video-format"></a>비디오 형식
비디오가 지원되는 형식에는 여러 가지가 있습니다. 비디오 형식의 두 가지 주요 속성은 해당 **프레임 크기**와 **색 형식**입니다. 지원되는 프레임 크기에는 640x360("360p"), 1280x720("720p") 및 1920x1080("1080p")이 포함됩니다. 지원되는 색 형식에는 NV12(픽셀당 12비트) 및 RGB24(픽셀당 24비트)가 포함됩니다.

"720p" 비디오 프레임은 921,600픽셀(1280x720)을 포함합니다. RGB24 색 형식에서 각 픽셀은 빨강, 녹색 및 파랑 색 구성 요소를 각각 1바이트씩 포함하는 3바이트(24비트)로 표시됩니다. 따라서 단일 720p RGB24 비디오 프레임에는 2,764,800바이트의 데이터(921,600픽셀 x 3바이트/픽셀)가 필요합니다. 프레임 속도 30fps에서 720p RGB24의 비디오 프레임을 전송하는 것은 약 80MB/s의 콘텐츠를 처리하는 것을 의미합니다(네트워크 전송 전에 H.264 비디오 코덱으로 압축).

## <a name="active-and-dominant-speakers"></a>활성 및 주요 화자
여러 참가자로 구성된 Skype 그룹 영상 통화에 참여할 때 봇은 현재 말하고 있는 참가자를 식별할 수 있습니다. **활성 화자**는 수신된 각 오디오 프레임을 듣고 있는 참가자를 나타냅니다. **주요 화자**는 해당 음성이 모든 오디오 프레임에서 들리지 않더라도, 그룹 대화에서 현재 가장 활성 상태인(또는 “주요”) 참가자를 나타냅니다. 주요 화자 집합은 다른 참가자가 말할 차례가 되면 달라질 수 있습니다.

## <a name="video-subscription"></a>비디오 구독
단일 Skype 호출자를 통한 호출에서 봇은 호출자의 영상을 자동으로 수신합니다(봇이 기본 영상을 수신하도록 설정된 경우). 단체 Skype 그룹 영상 통화에서, 봇은 보고 싶은 참가자를 실시간 미디어 플랫폼에 지정해야 합니다. 비디오 구독은 참가자의 영상을 수신하기 위한 봇의 요청입니다. 그룹 영상 통화의 참가자가 해당 대화를 수행할 때 봇은 설정된 주요 화자의 업데이트에 따라 원하는 비디오 구독을 수정할 수 있습니다.

## <a name="developer-resources"></a>개발자 리소스 

### <a name="sdks"></a>SDK

실시간 미디어 봇을 개발하려면 Visual Studio 프로젝트 내에서 다음과 같은 NuGet 패키지를 설치해야 합니다.

- [용 Bot Framework SDK](bot-builder-dotnet-overview.md)
- [.NET용 Bot Builder 실시간 미디어 호출](https://www.nuget.org/packages?q=Bot.Builder.RealTimeMediaCalling)
- [Microsoft.Skype.Bots.Media .NET 라이브러리](https://www.nuget.org/packages?q=Microsoft.Skype.Bots.Media)

### <a name="code-samples"></a>코드 샘플

[BotBuilder RealTimeMediaCalling](https://github.com/Microsoft/BotBuilder-RealTimeMediaCalling) GitHub 리포지토리에는 Skype용 실시간 미디어 봇을 빌드하는 방법을 보여 주는 샘플이 포함되어 있습니다.
